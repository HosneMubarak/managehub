{% extends 'components/custom-base.html' %}
{% load static %}
{% load account %}

{% block styles %}
{% endblock %}

{% block body %}
    <body class="bg-white">
{% endblock %}

{% block content %}
        <div class="row authentication authentication-cover-main mx-0">
            <div class="col-xxl-6 col-xl-7">
                <div class="row justify-content-center align-items-center h-100">
                    <div class="col-xxl-6 col-xl-9 col-lg-6 col-md-6 col-sm-8 col-12">
                        <div class="card custom-card my-auto border">
                            <div class="card-body p-5">
                                <p class="h5 mb-2 text-center">Set New Password</p>
                                <p class="mb-4 text-muted op-7 fw-normal text-center fs-14">Enter your new password below.</p>
                                
                                {% if form.errors %}
                                    <div class="alert alert-danger">
                                        {% for field, errors in form.errors.items %}
                                            {% for error in errors %}
                                                <div>{{ error }}</div>
                                            {% endfor %}
                                        {% endfor %}
                                    </div>
                                {% endif %}

                                <form method="post" action="">
                                    {% csrf_token %}
                                    <div class="row gy-3">
                                        <div class="col-xl-12">
                                            <label for="{{ form.password1.id_for_label }}" class="form-label text-default">New Password <sup class="fs-12 text-danger">*</sup></label>
                                            <div class="position-relative">
                                                <input type="password" class="form-control create-password-input" id="{{ form.password1.id_for_label }}" name="{{ form.password1.name }}" placeholder="Enter new password" required>
                                                <a href="javascript:void(0);" class="show-password-button text-muted" onclick="createpassword('{{ form.password1.id_for_label }}',this)" id="button-addon2"><i class="ri-eye-off-line align-middle"></i></a>
                                            </div>
                                        </div>
                                        <div class="col-xl-12">
                                            <label for="{{ form.password2.id_for_label }}" class="form-label text-default">Confirm Password <sup class="fs-12 text-danger">*</sup></label>
                                            <div class="position-relative">
                                                <input type="password" class="form-control create-password-input" id="{{ form.password2.id_for_label }}" name="{{ form.password2.name }}" placeholder="Confirm new password" required>
                                                <a href="javascript:void(0);" class="show-password-button text-muted" onclick="createpassword('{{ form.password2.id_for_label }}',this)" id="button-addon21"><i class="ri-eye-off-line align-middle"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-grid mt-4">
                                        <button type="submit" class="btn btn-primary">Change Password</button>
                                    </div>
                                </form>

                                <div class="text-center">
                                    <p class="text-muted mt-3">Remember your password? <a href="{% url 'account_login' %}" class="text-primary">Sign In</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xxl-6 col-xl-5 col-lg-12 d-xl-block d-none px-0">
                <div class="authentication-cover overflow-hidden">
                    <div class="authentication-cover-logo"> 
                        <a href="{% url 'dashboard:index' %}"> 
                            <img src="{% static 'assets/images/brand-logos/desktop-white.png'%}" alt="" class="authentication-brand desktop-white"> 
                        </a> 
                    </div>
                    <div class="aunthentication-cover-content d-flex align-items-center justify-content-center">
                        <div>
                            <h3 class="text-fixed-white mb-1 fw-medium">Almost Done!</h3>
                            <h6 class="text-fixed-white mb-3 fw-medium">Set your new password</h6>
                            <p class="text-fixed-white mb-1 op-6">Choose a strong password to keep your account secure. Make sure it's something you'll remember!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
{% endblock %}

{% block scripts %}
        <!-- Show Password JS -->
        <script src="{% static 'assets/js/show-password.js'%}"></script>
{% endblock %}
