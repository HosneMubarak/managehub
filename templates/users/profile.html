{% extends 'components/base.html' %}
{% load static %}

{% block styles %}

        <link rel="stylesheet" href="{% static 'assets/libs/glightbox/css/glightbox.min.css'%}">

{% endblock %}

{% block content %}
                    <!-- Page Header -->
                    <div class="d-flex align-items-center justify-content-between page-header-breadcrumb flex-wrap gap-2">
                        <div>
                            <nav>
                                <ol class="breadcrumb mb-1">
                                    <li class="breadcrumb-item"><a href="{% url 'dashboard:index' %}">Dashboard</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">Profile</li>
                                </ol>
                            </nav>
                            <h1 class="page-title fw-medium fs-18 mb-0">Profile</h1>
                        </div>
                        <div class="btn-list">
                            <a href="{% url 'users:profile_edit' %}" class="btn btn-primary btn-wave me-0">
                                <i class="ri-edit-line me-1"></i> Edit Profile
                            </a>
                        </div>
                    </div>
                    <!-- Page Header Close -->

                    <!-- Start:: row-1 -->
                    <div class="row">
                        <div class="col-xl-12">
                            <div class="card custom-card profile-card">
                                <div class="profile-banner-img">
                                    <img src="{% static 'assets/images/media/media-3.jpg'%}" class="card-img-top" alt="Profile Banner">
                                </div>
                                <div class="card-body pb-0 position-relative">
                                    <div class="row profile-content">
                                        <div class="col-xl-3">
                                            <div class="card custom-card overflow-hidden border">
                                                <div class="card-body border-bottom border-block-end-dashed">
                                                    <div class="text-center">
                                                        <span class="avatar avatar-xxl avatar-rounded online mb-3">
                                                            {% if user.avatar %}
                                                                <img src="{{ user.avatar.url }}" alt="{{ user.get_full_name }}">
                                                            {% else %}
                                                                <img src="{% static 'assets/images/faces/11.jpg'%}" alt="{{ user.get_full_name }}">
                                                            {% endif %}
                                                        </span>
                                                        <h5 class="fw-semibold mb-0 text-fixed-dark">{{ user.get_full_name|default:user.username }}</h5>
                                                        <p class="fs-12 op-7 mb-1 text-muted">{{ user.occupation|default:"User" }}</p>
                                                        <p class="fs-12 op-5 mb-0">
                                                            <span class="me-3"><i class="ri-building-line me-1 align-middle"></i>{{ user.city_of_origin|default:"Location not set" }}</span>
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="skill-tags d-flex flex-wrap gap-1">
                                                        <span class="badge bg-light text-default">{{ user.get_occupation_display }}</span>
                                                        {% if user.country %}
                                                            <span class="badge bg-light text-default">{{ user.country.name }}</span>
                                                        {% endif %}
                                                        <span class="badge bg-light text-default">{{ user.get_gender_display }}</span>
                                                    </div>
                                                </div>
                                                <div class="card-body border-top border-block-start-dashed">
                                                    <div class="d-flex align-items-center justify-content-between mb-2">
                                                        <div class="flex-fill">
                                                            <p class="mb-0 fw-semibold">Contact Information</p>
                                                        </div>
                                                    </div>
                                                    <div class="popular-tags">
                                                        <div class="tags-item mb-2">
                                                            <i class="ri-mail-line me-2"></i>
                                                            <span class="fw-medium">{{ user.email }}</span>
                                                        </div>
                                                        {% if user.phone_number %}
                                                        <div class="tags-item mb-2">
                                                            <i class="ri-phone-line me-2"></i>
                                                            <span class="fw-medium">{{ user.phone_number }}</span>
                                                        </div>
                                                        {% endif %}
                                                        <div class="tags-item mb-2">
                                                            <i class="ri-user-line me-2"></i>
                                                            <span class="fw-medium">@{{ user.username }}</span>
                                                        </div>
                                                        <div class="tags-item mb-0">
                                                            <i class="ri-calendar-line me-2"></i>
                                                            <span class="fw-medium">Joined {{ user.date_joined|date:"M Y" }}</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-xl-9">
                                            <div class="row">
                                                <div class="col-xl-12">
                                                    <div class="card custom-card">
                                                        <div class="card-body">
                                                            <h6 class="fw-semibold mb-3">About</h6>
                                                            {% if user.bio %}
                                                                <p class="text-muted mb-0">{{ user.bio|linebreaks }}</p>
                                                            {% else %}
                                                                <p class="text-muted mb-0">No bio available. <a href="{% url 'users:profile_edit' %}" class="text-primary">Add your bio</a> to tell others about yourself.</p>
                                                            {% endif %}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-xl-6">
                                                    <div class="card custom-card">
                                                        <div class="card-header">
                                                            <div class="card-title">Account Details</div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="table-responsive">
                                                                <table class="table table-borderless">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="fw-medium">Full Name:</td>
                                                                            <td>{{ user.get_full_name|default:"Not set" }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">Username:</td>
                                                                            <td>{{ user.username }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">Email:</td>
                                                                            <td>{{ user.email }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">Gender:</td>
                                                                            <td>{{ user.get_gender_display }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">Occupation:</td>
                                                                            <td>{{ user.get_occupation_display }}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-xl-6">
                                                    <div class="card custom-card">
                                                        <div class="card-header">
                                                            <div class="card-title">Location & Contact</div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="table-responsive">
                                                                <table class="table table-borderless">
                                                                    <tbody>
                                                                        <tr>
                                                                            <td class="fw-medium">Country:</td>
                                                                            <td>{{ user.country.name|default:"Not set" }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">City:</td>
                                                                            <td>{{ user.city_of_origin|default:"Not set" }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">Phone:</td>
                                                                            <td>{{ user.phone_number|default:"Not set" }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">Member Since:</td>
                                                                            <td>{{ user.date_joined|date:"F d, Y" }}</td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="fw-medium">Last Login:</td>
                                                                            <td>{{ user.last_login|date:"F d, Y H:i"|default:"Never" }}</td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End:: row-1 -->
{% endblock %}

{% block scripts %}
        <!-- GLightbox JS -->
        <script src="{% static 'assets/libs/glightbox/js/glightbox.min.js'%}"></script>
        <script src="{% static 'assets/js/gallery.js'%}"></script>
{% endblock %}
